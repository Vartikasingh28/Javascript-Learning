<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>
    <script>
        // Synchronous:-In this,it will execute one by one ,after the execution of first second will execute
        // console.log("one");
        // console.log("two");
        // console.log("three");
        //Asynchronous
        // console.log("one");
        // setTimeout(function () {
        //     console.log("this will execute later");
        // });

        // console.log("two");
        // console.log("three");
        //call callback using their name of function or we can also pass that function creating
        //callback is a function passed as an argument in another function
        // 1.callback in synchronous function
        // function sum(a, b) {
        //     console.log(a + b);
        // }
        // function Add(a, b, callback) {//3,6,sum
        //     callback(a, b)//sum(3,6)
        // }
        // Add(3, 6, sum);

        //  function sum(a, b) {
        //         console.log(a + b);
        //     }
        //     function Add(a, b, callback) {//3,6,sum
        //         callback(a, b)//sum(3,6)
        //     }
        //     Add(3, 6,(a,b) => {
        //         console.log(a+b);
        //     });
        //asynchronous callback
        // const hello = () => {
        //     console.log("hello");
        // };
        // setTimeout(hello, 3000);
        //if we have to pass argument in callback then use arrow function inside arrow pass fun
        // function getData(dataId, getNextData) {
        //     setTimeout(() => {
        //         console.log("data", dataId);
        //         if (getNextData) {
        //             getNextData();
        //         }
        //     }, 2000);
        // }
        // getData(1, () => {  //callback hell
        //     getData(2, () => {
        //         getData(3, () => {
        //             getData(4);
        //         });
        //     });
        // });
        //promise is used to solve the problem of callback hell i.e nested callback
        //it is an object in js let pObj =new promise(resolve,reject);
        //in reject what we will wite it wile execute as error 
        //promise are used to handle asynchronous operation.It keep track about whether a event has happened or not


        //1-2s roll no ; 2- 2s name and age
        const pobj1 = new Promise((resolve, reject) => {
            setTimeout(() => {
                let roll_no = [1, 2, 3, 4, 5];//if we get roll no then resolve fulfilled
                resolve(roll_no) //we use resolve if action is fulfilled to show use then for output
                reject("error")
            }, 6000)
        });
        const getBiodata = (indexdata) => {
            return new Promise((resolve, reject) => {
                setTimeout((indexdata) => {
                    let biodata = {
                        name: 'vartika',
                        age: 22
                    }
                    resolve(` My roll no is ${indexdata}.My name is ${biodata.name} and I am ${biodata.age} years old.`);
                }, 2000, indexdata)
            });
        }

        //consume promise to get
        pobj1.then((rollno) => { //it will copy within resolve whatever parameter we pass
            console.log(rollno);
            return getBiodata(rollno[1])
                .then((khuchh) => {
                    console.log(khuchh);
                })
        })
            .catch((error) => { //here we can write anything as an argum
                console.log(error);
            })


    </script>
</body>

</html>